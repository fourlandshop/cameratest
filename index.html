<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>دوربین</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: black;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }
        
        #video {
            width: 100vw;
            height: 100vh;
            object-fit: cover;
            display: block;
        }
        
        #error {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
            font-size: 18px;
            padding: 20px;
            background: rgba(0,0,0,0.7);
            border-radius: 10px;
            display: none;
        }
    </style>
</head>
<body>
    <video id="video" autoplay playsinline></video>
    <div id="error">
        <h3>خطا در دسترسی به دوربین</h3>
        <p>لطفاً اجازه دسترسی به دوربین را بدهید</p>
    </div>

    <script>
        const video = document.getElementById('video');
        const errorDiv = document.getElementById('error');

        // درخواست دسترسی به دوربین
        navigator.mediaDevices.getUserMedia({
            video: { 
                width: { ideal: 1920 },
                height: { ideal: 1080 },
                facingMode: 'user' // دوربین جلو
            },
            audio: false
        })
        .then(stream => {
            video.srcObject = stream;
            video.play();
        })
        .catch(err => {
            console.error('خطا در دسترسی به دوربین:', err);
            errorDiv.style.display = 'block';
        });

        // جلوگیری از کلیک راست
        document.addEventListener('contextmenu', e => e.preventDefault());
        
        // جلوگیری از کلیدهای خاص
        document.addEventListener('keydown', e => {
            if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I')) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>